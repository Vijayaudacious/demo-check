import{A as S,l as q,j as e,u as O,L as c,I as a,P as G,a as U,b as J,U as Z,S as ee,c as se,g as D,d as R,e as ne,f as ie,O as oe}from"./index-525ca9a9.js";import{r as o,m as N,K as te,k as I,M as ae,T as b,O as le,P as re,B as y,Q as T,I as ce,e as de}from"./antd-2568dec6.js";var me={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M868 732h-70.3c-4.8 0-9.3 2.1-12.3 5.8-7 8.5-14.5 16.7-22.4 24.5a353.84 353.84 0 01-112.7 75.9A352.8 352.8 0 01512.4 866c-47.9 0-94.3-9.4-137.9-27.8a353.84 353.84 0 01-112.7-75.9 353.28 353.28 0 01-76-112.5C167.3 606.2 158 559.9 158 512s9.4-94.2 27.8-137.8c17.8-42.1 43.4-80 76-112.5s70.5-58.1 112.7-75.9c43.6-18.4 90-27.8 137.9-27.8 47.9 0 94.3 9.3 137.9 27.8 42.2 17.8 80.1 43.4 112.7 75.9 7.9 7.9 15.3 16.1 22.4 24.5 3 3.7 7.6 5.8 12.3 5.8H868c6.3 0 10.2-7 6.7-12.3C798 160.5 663.8 81.6 511.3 82 271.7 82.6 79.6 277.1 82 516.4 84.4 751.9 276.2 942 512.4 942c152.1 0 285.7-78.8 362.3-197.7 3.4-5.3-.4-12.3-6.7-12.3zm88.9-226.3L815 393.7c-5.3-4.2-13-.4-13 6.3v76H488c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h314v76c0 6.7 7.8 10.5 13 6.3l141.9-112a8 8 0 000-12.6z"}}]},name:"logout",theme:"outlined"};const ue=me;var pe=function(i,t){return o.createElement(S,N({},i,{ref:t,icon:ue}))};const ge=o.forwardRef(pe);var _e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"}}]},name:"menu",theme:"outlined"};const be=_e;var he=function(i,t){return o.createElement(S,N({},i,{ref:t,icon:be}))};const xe=o.forwardRef(he);var ve={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M705.6 124.9a8 8 0 00-11.6 7.2v64.2c0 5.5 2.9 10.6 7.5 13.6a352.2 352.2 0 0162.2 49.8c32.7 32.8 58.4 70.9 76.3 113.3a355 355 0 0127.9 138.7c0 48.1-9.4 94.8-27.9 138.7a355.92 355.92 0 01-76.3 113.3 353.06 353.06 0 01-113.2 76.4c-43.8 18.6-90.5 28-138.5 28s-94.7-9.4-138.5-28a353.06 353.06 0 01-113.2-76.4A355.92 355.92 0 01184 650.4a355 355 0 01-27.9-138.7c0-48.1 9.4-94.8 27.9-138.7 17.9-42.4 43.6-80.5 76.3-113.3 19-19 39.8-35.6 62.2-49.8 4.7-2.9 7.5-8.1 7.5-13.6V132c0-6-6.3-9.8-11.6-7.2C178.5 195.2 82 339.3 80 506.3 77.2 745.1 272.5 943.5 511.2 944c239 .5 432.8-193.3 432.8-432.4 0-169.2-97-315.7-238.4-386.7zM480 560h64c4.4 0 8-3.6 8-8V88c0-4.4-3.6-8-8-8h-64c-4.4 0-8 3.6-8 8v464c0 4.4 3.6 8 8 8z"}}]},name:"poweroff",theme:"outlined"};const fe=ve;var je=function(i,t){return o.createElement(S,N({},i,{ref:t,icon:fe}))};const ye=o.forwardRef(je);var Se={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656zM492 400h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H492c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8zm0 144h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H492c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8zm0 144h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H492c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8zM340 368a40 40 0 1080 0 40 40 0 10-80 0zm0 144a40 40 0 1080 0 40 40 0 10-80 0zm0 144a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"profile",theme:"outlined"};const Ne=Se;var we=function(i,t){return o.createElement(S,N({},i,{ref:t,icon:Ne}))};const Ee=o.forwardRef(we),ze="/assets/dashboard-01a264ee.svg",Te="/assets/employees-899e0eec.svg",Ie="/assets/leaves-3c8498a3.svg",Oe="/assets/project-726b87b2.svg",Pe="/assets/roles-c5f662c2.svg",Me="/assets/setting-f00efa86.svg",ke="/assets/payroll-905a2af4.svg",m="/assets/starticon-7a8d4db4.svg",Ce="/assets/home-e7de10a6.svg",Ae="/assets/search-28db7a81.svg",Le="/assets/videoplayer-878986bf.svg",De="/assets/userprofile-70237ddb.svg",Re=n=>q.startCase(n),He="_tagName_vunmw_1",Ge={tagName:He},Ue=({children:n,color:i,...t})=>e.jsx(te,{color:i,...t,className:I(Ge.tagName,"text-center"),children:n}),H=()=>{const{innerWidth:n,innerHeight:i}=window;return{width:n,height:i}},F=()=>{const[n,i]=o.useState(H());return o.useEffect(()=>{const t=()=>{i(H())};return window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]),{...n,isMobile:n.width<=480,isTab:n.width>481&&n.width<=767}},Fe="_flexCenter_1bzd8_1",Be="_mobileNav_1bzd8_10",$e="_link_1bzd8_21",Ve="_item_1bzd8_24",Xe="_icon_1bzd8_30",We="_drawerItem_1bzd8_39",Ke="_label_1bzd8_42",Ye="_menuItems_1bzd8_46",l={flexCenter:Fe,mobileNav:Be,link:$e,item:Ve,icon:Xe,drawerItem:We,label:Ke,menuItems:Ye},Qe=({menus:n})=>{const[i,t]=o.useState(!1),p=O(),h=()=>{t(!0)},g=()=>{t(!1)};return o.useEffect(()=>{t(!1)},[p]),e.jsxs("div",{className:l.mobileNav,children:[e.jsx(c,{to:"/",className:l.link,children:e.jsxs("div",{className:l.item,children:[e.jsx(a,{id:"dashboard",className:l.icon,icon:Ce})," Home"]})}),e.jsx(c,{to:"/leaves/calender",className:l.link,children:e.jsxs("div",{className:l.item,children:[e.jsx(a,{icon:Ae,className:l.icon,id:"leaves"}),"Search"]})}),e.jsx(c,{to:"/reports",className:l.link,children:e.jsxs("div",{className:l.item,children:[e.jsx(a,{icon:Le,className:l.icon,id:"projects"})," ","Video"]})}),e.jsx(c,{to:"/settings/employee",className:l.link,children:e.jsxs("div",{className:l.item,children:[e.jsx(a,{icon:De,className:l.icon,id:"settings"})," ","Profile"]})}),e.jsxs("div",{className:l.item,onClick:h,children:[e.jsx(xe,{id:"mobile_menu_toggle_btn",className:l.icon})," ","Others"]}),e.jsx(ae,{title:"All Menus",placement:"right",onClose:g,open:i,children:n.map(d=>e.jsxs("div",{className:l.drawerItem,children:[e.jsx("div",{className:l.label,children:d.label}),e.jsx("div",{className:l.menuItems,children:(d.children||[d]).map(_=>e.jsxs(c,{to:_.key,className:l.link,onClick:g,children:[d.icon," ",_.label]},_.id))})]},d.id))})]})},qe="_setContentTop_127fl_8",Je="_sidebar_127fl_11",Ze="_imageLogo_127fl_22",es="_closeButton_127fl_25",ss="_logoName_127fl_29",ns="_previewTitle_127fl_74",is="_previewSubTitle_127fl_84",os="_SubTitle_127fl_143",u={setContentTop:qe,sidebar:Je,imageLogo:Ze,closeButton:es,logoName:ss,previewTitle:ns,previewSubTitle:is,SubTitle:os};const ts=n=>{let i="/";return n.includes("/employees")?i="/employees":n.includes("/roles")?i="/roles":n.includes("/attendance")?i="/attendance":n.includes("/leaves")?i="/leaves/calender":n.includes("/projects")?i="/projects":n.includes("/reports")?i="/reports":n.includes("/payroll/salary-templates")?i="/payroll/salary-templates":n.includes("/payroll/my-expenses")?i="/payroll/my-expenses":n.includes("/payroll/processing")?i="/payroll/processing":n.includes("/money-manager/categories")?i="/money-manager/categories":n.includes("/money-manager/incomes")?i="/money-manager/incomes":n.includes("/money-manager/expenses")?i="/money-manager/expenses":n.includes("/money-manager/report")?i="/money-manager/report":n.includes("/settings/organization")?i="/settings/organization":(n.includes("/settings")||n.includes("/organizations"))&&(i="/settings/employee"),i},as=({collapsed:n,setCollapsed:i,top:t})=>{const{pathname:p}=O(),{leaves:h,users:g,roles:d,projects:_,reports:x}=o.useContext(G);U();const{formatMessage:s}=J(),[P,w]=o.useState(p),{isMobile:E}=F();o.useState([]),o.useEffect(()=>{w(ts(p))},[p]);const v=[{label:e.jsx(b,{placement:"right",title:s({id:"sidebar.menu.dashboard"}),children:s({id:"sidebar.menu.dashboard"})}),key:"/",icon:e.jsx(a,{id:"dashboard",icon:ze}),id:"dashboard"},{label:e.jsx(b,{placement:"right",title:s({id:"sidebar.menu.users"}),children:s({id:"sidebar.menu.users"})}),icon:e.jsx(a,{icon:Te}),key:"users",id:"users",children:[(g||[]).length&&{key:"/employees",label:s({id:"sidebar.menu.employees"}),id:"employee"},(d||[]).length&&{key:"/roles",label:s({id:"sidebar.menu.roles"}),id:"roles"}]},{label:e.jsxs(e.Fragment,{children:[e.jsxs(b,{placement:"right",title:s({id:"sidebar.menu.attendance"}),children:[s({id:"sidebar.menu.attendance"})," "]}),e.jsxs("span",{title:"Preview",className:u.previewTitle,children:[e.jsx(a,{icon:m,width:"10px"}),s({id:"generic.preview"})]})]}),id:"attendance",key:"attendance",icon:e.jsx(a,{icon:Ie,id:"leaves"}),children:[{key:"/attendance",label:s({id:"sidebar.menu.attendance"}),id:"attendance"},(h||[]).length&&{key:"/leaves/calender",label:s({id:"sidebar.menu.leaves"}),id:"leaves"}]},{label:e.jsx(b,{placement:"right",title:s({id:"sidebar.menu.reports"}),children:s({id:"sidebar.menu.reports"})}),id:"reports",key:"reports",icon:e.jsx(a,{icon:Oe,id:"projects"}),children:[(_||[]).length&&{key:"/projects",label:s({id:"sidebar.menu.projects"}),id:"projects"},(x||[]).length&&{key:"/reports",label:s({id:"sidebar.menu.dailyReporting"}),id:"daily_reporting"}]},{label:e.jsxs(e.Fragment,{children:[e.jsx(b,{placement:"right",title:s({id:"sidebar.menu.payroll"}),children:s({id:"sidebar.menu.payroll"})}),e.jsxs("span",{title:"Preview",className:u.previewTitle,children:[e.jsx(a,{icon:m,width:"10px"}),s({id:"generic.preview"})]})]}),id:"payroll",key:"payroll",icon:e.jsx(a,{icon:ke,id:"payroll"}),children:[{key:"/payroll/my-expenses",label:e.jsxs(e.Fragment,{children:[s({id:"sidebar.menu.myExpenses"}),e.jsxs("span",{className:u.previewSubTitle,children:[e.jsx(a,{icon:m,width:"10px"}),s({id:"generic.preview"})]})]}),id:"my_expenses"},{key:"/payroll/salary-templates",label:e.jsxs(e.Fragment,{children:[s({id:"sidebar.menu.salaryTemplates"}),e.jsxs("span",{className:u.previewSubTitle,children:[e.jsx(a,{icon:m,width:"10px"}),s({id:"generic.preview"})]})]}),id:"salary_templates"},{key:"/payroll/processing",label:e.jsxs(e.Fragment,{children:[s({id:"sidebar.menu.processing"}),e.jsxs("span",{className:u.previewSubTitle,children:[e.jsx(a,{icon:m,width:"10px"}),s({id:"generic.preview"})]})]}),id:"processing"}]},{label:e.jsx(b,{placement:"right",title:s({id:"sidebar.menu.moneyManager"}),children:s({id:"sidebar.menu.moneyManager"})}),icon:e.jsx(a,{icon:Pe}),key:"money-manager",id:"money-manager",children:[{key:"/money-manager/report",label:e.jsxs(e.Fragment,{children:[s({id:"sidebar.menu.report"}),e.jsxs("span",{className:u.SubTitle,children:[e.jsx(a,{icon:m,width:"10px"}),s({id:"generic.preview"})]})]}),id:"categories"},{key:"/money-manager/incomes",label:e.jsxs(e.Fragment,{children:[s({id:"sidebar.menu.incomes"}),e.jsxs("span",{className:u.SubTitle,children:[e.jsx(a,{icon:m,width:"10px"}),s({id:"generic.preview"})]})]}),id:"incomes"},{key:"/money-manager/expenses",label:e.jsxs(e.Fragment,{children:[s({id:"sidebar.menu.expenses"}),e.jsxs("span",{className:u.SubTitle,children:[e.jsx(a,{icon:m,width:"10px"}),s({id:"generic.preview"})]})]}),id:"expenses"},{key:"/money-manager/categories",label:e.jsxs(e.Fragment,{children:[s({id:"sidebar.menu.categories"}),e.jsxs("span",{className:u.SubTitle,children:[e.jsx(a,{icon:m,width:"10px"}),s({id:"generic.preview"})]})]}),id:"categories"}]},{label:e.jsx(b,{placement:"right",title:s({id:"sidebar.menu.settings"}),children:s({id:"sidebar.menu.settings"})}),id:"settings",key:"settings",icon:e.jsx(a,{icon:Me,id:"settings"}),children:[{key:"/settings/employee",label:s({id:"sidebar.menu.profile"}),id:"Profile"},{key:"/settings/organization",label:s({id:"sidebar.menu.organization"}),id:"Organization"}]}];return E?e.jsx(Qe,{menus:v}):""},ls="_flexCenter_1w4vz_1",rs="_containerOpen_1w4vz_10",cs="_containerClose_1w4vz_23",ds="_notificationText_1w4vz_26",ms="_expireAlert_1w4vz_31",us="_main_1w4vz_55",ps="_divider_1w4vz_55",gs="_header_1w4vz_62",_s="_menuToggle_1w4vz_84",bs="_userIcon_1w4vz_88",hs="_selectLanguage_1w4vz_93",xs="_imgProfileMenu_1w4vz_102",vs="_menu_1w4vz_84",fs="_imgProfile_1w4vz_102",js="_avatar_1w4vz_116",ys="_buttonProfile_1w4vz_125",Ss="_btnProfile_1w4vz_131",Ns="_tabHeaderClose_1w4vz_144",ws="_imageLogo_1w4vz_153",r={flexCenter:ls,containerOpen:rs,containerClose:cs,notificationText:ds,expireAlert:ms,main:us,divider:ps,header:gs,menuToggle:_s,userIcon:bs,selectLanguage:hs,imgProfileMenu:xs,menu:vs,imgProfile:fs,avatar:js,buttonProfile:ys,btnProfile:Ss,tabHeaderClose:Ns,imageLogo:ws},Ts=()=>{var A,L;const{name:n,email:i,roles:t,contactNumber:p,_id:h,profilePicture:g}=o.useContext(Z),{payments:d}=o.useContext(G);o.useContext(ee);const[,_]=le.useNotification(),{data:x}=se(),{isMobile:s}=F(),P=O();o.useEffect(()=>{window.scrollTo(0,0)},[P]);const w=D(x,"data.data.freeTrial",!1)&&(d||[]).includes("canPay"),E=D(x,"data.data.endDate"),v=R(E).diff(R(),"day"),B="https://staging-api.zesthrm.com/api/v1",$=U(),M=o.useRef(null),k=o.useRef(null),{Header:V}=T,X=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("userDetails"),$("/dashboard")},[f,C]=o.useState(s||!1),W=`${B}${g}`,K=()=>{localStorage.removeItem("authToken")};r.menu,g?r.imgProfile:(re,r.avatar,n==null||n.trim().charAt(0).toUpperCase()),c,`${h}`,e.Fragment,t==null||t.map(j=>e.jsx(Ue,{color:"blue",children:Re(j==null?void 0:j.name)},j.name)),e.Fragment,I(r.buttonProfile,"mt-3"),c,y,r.btnProfile,c,y;const Y=w&&v<16,z=((A=M.current)==null?void 0:A.clientHeight)??0,Q=(((L=k.current)==null?void 0:L.clientHeight)??0)+z+10;return e.jsxs(e.Fragment,{children:[_,Y&&e.jsxs("div",{className:r.expireAlert,ref:M,children:[e.jsxs("h3",{children:["Your free trial will expire within ",e.jsxs("b",{children:[v," days"]}),". To continue using our services, please upgrade your plan. Click on the 'Upgrade' button to upgrade the plan."]}),e.jsx(c,{to:"/plans",children:e.jsx(y,{type:"primary",children:"UPGRADE"})})]}),e.jsxs(T,{children:[e.jsx(as,{collapsed:f,setCollapsed:C,top:z}),e.jsxs(T,{className:`${r.containerOpen} ${f&&r.containerClose}`,onClick:()=>{s&&!f&&C(!0)},children:[e.jsx("div",{className:r.main,children:e.jsxs(V,{className:I(r.header,{[r.tabHeaderClose]:f}),style:{top:z},ref:k,children:[e.jsx("div",{children:e.jsxs(c,{to:"/",children:[e.jsx(ce,{className:r.imageLogo,src:ne,preview:!1}),e.jsx("span",{style:{color:"white",fontWeight:900,fontSize:"15px",marginLeft:"12px",fontFamily:"cursive",backgroundImage:"linear-gradient(to right, rgba(255,0,0,0), rgba(255,0,0,1))"},children:"POST EARN"})]})}),e.jsx("div",{className:r.userIcon,children:e.jsx("div",{children:e.jsx(y,{type:"ghost",style:{color:"red",fontWeight:900},onClick:K,icon:e.jsx(ye,{}),children:"Log out"})})})]})}),e.jsx("div",{style:{height:Q}}),e.jsx(de.Suspense,{fallback:e.jsx(ie,{isLoading:!0,centered:!0}),children:e.jsx(oe,{})})]})]})]})};export{Ts as default};
